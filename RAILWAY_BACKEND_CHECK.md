# 🔍 Railway 백엔드 서비스 확인 가이드

Postgres는 정상이지만 API가 응답하지 않을 때 확인하는 방법입니다.

## 📋 현재 상황

- ✅ Postgres 서비스: 정상 배포 완료
- ❌ 백엔드 API: 응답하지 않음

**원인**: 백엔드 서비스가 제대로 배포되지 않았거나 실행되지 않았을 가능성

---

## 🔍 백엔드 서비스 확인 방법

### 1. 백엔드 서비스 찾기

Railway 대시보드에서:
1. 왼쪽 사이드바 확인
2. **"Postgres"** 외에 다른 서비스가 있는지 확인
3. 서비스 이름 예: `backend`, `api`, `seller-erp-api` 등

**만약 백엔드 서비스가 없다면**:
- 백엔드 서비스를 아직 생성하지 않은 것입니다
- "+ New" → "GitHub Repo"로 생성해야 합니다

### 2. 백엔드 서비스가 있다면

#### Deployments 탭 확인
1. 백엔드 서비스 클릭
2. **"Deployments"** 탭 확인
3. 배포 상태 확인:
   - ✅ **"ACTIVE"** (초록색) = 정상
   - ⚠️ **"BUILDING"** = 빌드 중
   - ❌ **"FAILED"** = 배포 실패

#### Logs 탭 확인
1. **"Logs"** 탭 클릭
2. 최근 로그 확인

**정상적인 로그 예시**:
```
🚀 API 서버가 포트 3001에서 실행 중입니다.
📍 API 엔드포인트: http://0.0.0.0:3001/api
```

**에러 로그 예시**:
```
Error: Cannot find module
Error: Port already in use
Error: Database connection failed
```

---

## 🚨 백엔드 서비스가 없는 경우

### 백엔드 서비스 생성하기

1. Railway 프로젝트에서 **"+ New"** 클릭
2. **"GitHub Repo"** 선택
3. 저장소 선택: `seojeongju/seller-erp`
4. 서비스가 생성되면 자동 배포 시작

**중요**: 
- Railway가 자동으로 Dockerfile을 감지합니다
- 루트 디렉토리의 `Dockerfile`을 사용합니다

---

## 🔧 백엔드 서비스가 있지만 실패한 경우

### Step 1: 로그 확인

**"Logs"** 탭에서 에러 확인

### Step 2: 환경 변수 확인

**"Variables"** 탭에서 확인:
- [ ] `DATABASE_URL=${{Postgres.DATABASE_URL}}`
- [ ] `PORT=3001` (또는 Railway 자동 설정)
- [ ] `NODE_ENV=production`
- [ ] `NEXTAUTH_SECRET` 설정됨

### Step 3: 재배포

1. **"Deployments"** 탭
2. 최근 배포 옆 **"..."** 메뉴
3. **"Redeploy"** 선택

---

## 📝 체크리스트

### 백엔드 서비스 확인
- [ ] 백엔드 서비스가 생성되었는지 확인
- [ ] 배포 상태가 "ACTIVE"인지 확인
- [ ] 로그에 에러가 없는지 확인
- [ ] 환경 변수가 올바르게 설정되었는지 확인

### 네트워킹 확인
- [ ] 백엔드 서비스의 공개 URL 확인
- [ ] 포트가 올바르게 노출되었는지 확인

---

## 🎯 다음 단계

1. **백엔드 서비스 확인**
   - 사이드바에서 백엔드 서비스 찾기
   - 없으면 생성하기

2. **로그 확인**
   - 에러 메시지 확인
   - 에러 내용을 알려주시면 해결 방법 제시

3. **재배포**
   - 문제가 지속되면 재배포 시도

---

## 💡 팁

- **서비스 이름**: Railway는 GitHub 저장소 이름을 기본으로 사용하지만, 변경 가능합니다
- **자동 배포**: GitHub에 푸시하면 자동으로 재배포됩니다
- **로그 실시간 확인**: "Logs" 탭에서 실시간으로 로그를 확인할 수 있습니다

---

**마지막 업데이트**: 2024-11-17

